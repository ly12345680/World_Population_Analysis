{"ast":null,"code":"export default function (topology, arcs) {\n  var stitchedArcs = {},\n    fragmentByStart = {},\n    fragmentByEnd = {},\n    fragments = [],\n    emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function (i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i],\n      t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n  arcs.forEach(function (i) {\n    var e = ends(i),\n      start = e[0],\n      end = e[1],\n      f,\n      g;\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i],\n      p0 = arc[0],\n      p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function (dp) {\n      p1[0] += dp[0], p1[1] += dp[1];\n    });else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function (i) {\n        stitchedArcs[i < 0 ? ~i : i] = 1;\n      });\n      fragments.push(f);\n    }\n  }\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function (i) {\n    if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]);\n  });\n  return fragments;\n}","map":{"version":3,"names":["topology","arcs","stitchedArcs","fragmentByStart","fragmentByEnd","fragments","emptyIndex","forEach","i","j","arc","t","length","e","ends","start","end","f","g","push","fg","concat","unshift","gf","p0","p1","transform","dp","flush","k"],"sources":["/Users/nguyenhaiharry/Library/CloudStorage/OneDrive-VietNamNationalUniversity-HCMINTERNATIONALUNIVERSITY/Desktop/Sem1_2023-2024/DVDS/World_Population_Analysis/global-population/population-analysis/node_modules/topojson-client/src/stitch.js"],"sourcesContent":["export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}