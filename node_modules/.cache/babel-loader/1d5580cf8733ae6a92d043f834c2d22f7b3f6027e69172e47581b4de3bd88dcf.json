{"ast":null,"code":"import bisect from \"./bisect.js\";\nexport default function (objects) {\n  var indexesByArc = {},\n    // arc index -> array of object indexes\n    neighbors = objects.map(function () {\n      return [];\n    });\n  function line(arcs, i) {\n    arcs.forEach(function (a) {\n      if (a < 0) a = ~a;\n      var o = indexesByArc[a];\n      if (o) o.push(i);else indexesByArc[a] = [i];\n    });\n  }\n  function polygon(arcs, i) {\n    arcs.forEach(function (arc) {\n      line(arc, i);\n    });\n  }\n  function geometry(o, i) {\n    if (o.type === \"GeometryCollection\") o.geometries.forEach(function (o) {\n      geometry(o, i);\n    });else if (o.type in geometryType) geometryType[o.type](o.arcs, i);\n  }\n  var geometryType = {\n    LineString: line,\n    MultiLineString: polygon,\n    Polygon: polygon,\n    MultiPolygon: function (arcs, i) {\n      arcs.forEach(function (arc) {\n        polygon(arc, i);\n      });\n    }\n  };\n  objects.forEach(geometry);\n  for (var i in indexesByArc) {\n    for (var indexes = indexesByArc[i], m = indexes.length, j = 0; j < m; ++j) {\n      for (var k = j + 1; k < m; ++k) {\n        var ij = indexes[j],\n          ik = indexes[k],\n          n;\n        if ((n = neighbors[ij])[i = bisect(n, ik)] !== ik) n.splice(i, 0, ik);\n        if ((n = neighbors[ik])[i = bisect(n, ij)] !== ij) n.splice(i, 0, ij);\n      }\n    }\n  }\n  return neighbors;\n}","map":{"version":3,"names":["bisect","objects","indexesByArc","neighbors","map","line","arcs","i","forEach","a","o","push","polygon","arc","geometry","type","geometries","geometryType","LineString","MultiLineString","Polygon","MultiPolygon","indexes","m","length","j","k","ij","ik","n","splice"],"sources":["/Users/nguyenhaiharry/Library/CloudStorage/OneDrive-VietNamNationalUniversity-HCMINTERNATIONALUNIVERSITY/Desktop/Sem1_2023-2024/DVDS/World_Population_Analysis/global-population/population-analysis/node_modules/topojson-client/src/neighbors.js"],"sourcesContent":["import bisect from \"./bisect.js\";\n\nexport default function(objects) {\n  var indexesByArc = {}, // arc index -> array of object indexes\n      neighbors = objects.map(function() { return []; });\n\n  function line(arcs, i) {\n    arcs.forEach(function(a) {\n      if (a < 0) a = ~a;\n      var o = indexesByArc[a];\n      if (o) o.push(i);\n      else indexesByArc[a] = [i];\n    });\n  }\n\n  function polygon(arcs, i) {\n    arcs.forEach(function(arc) { line(arc, i); });\n  }\n\n  function geometry(o, i) {\n    if (o.type === \"GeometryCollection\") o.geometries.forEach(function(o) { geometry(o, i); });\n    else if (o.type in geometryType) geometryType[o.type](o.arcs, i);\n  }\n\n  var geometryType = {\n    LineString: line,\n    MultiLineString: polygon,\n    Polygon: polygon,\n    MultiPolygon: function(arcs, i) { arcs.forEach(function(arc) { polygon(arc, i); }); }\n  };\n\n  objects.forEach(geometry);\n\n  for (var i in indexesByArc) {\n    for (var indexes = indexesByArc[i], m = indexes.length, j = 0; j < m; ++j) {\n      for (var k = j + 1; k < m; ++k) {\n        var ij = indexes[j], ik = indexes[k], n;\n        if ((n = neighbors[ij])[i = bisect(n, ik)] !== ik) n.splice(i, 0, ik);\n        if ((n = neighbors[ik])[i = bisect(n, ij)] !== ij) n.splice(i, 0, ij);\n      }\n    }\n  }\n\n  return neighbors;\n}\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,aAAa;AAEhC,eAAe,UAASC,OAAO,EAAE;EAC/B,IAAIC,YAAY,GAAG,CAAC,CAAC;IAAE;IACnBC,SAAS,GAAGF,OAAO,CAACG,GAAG,CAAC,YAAW;MAAE,OAAO,EAAE;IAAE,CAAC,CAAC;EAEtD,SAASC,IAAIA,CAACC,IAAI,EAAEC,CAAC,EAAE;IACrBD,IAAI,CAACE,OAAO,CAAC,UAASC,CAAC,EAAE;MACvB,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAACA,CAAC;MACjB,IAAIC,CAAC,GAAGR,YAAY,CAACO,CAAC,CAAC;MACvB,IAAIC,CAAC,EAAEA,CAAC,CAACC,IAAI,CAACJ,CAAC,CAAC,CAAC,KACZL,YAAY,CAACO,CAAC,CAAC,GAAG,CAACF,CAAC,CAAC;IAC5B,CAAC,CAAC;EACJ;EAEA,SAASK,OAAOA,CAACN,IAAI,EAAEC,CAAC,EAAE;IACxBD,IAAI,CAACE,OAAO,CAAC,UAASK,GAAG,EAAE;MAAER,IAAI,CAACQ,GAAG,EAAEN,CAAC,CAAC;IAAE,CAAC,CAAC;EAC/C;EAEA,SAASO,QAAQA,CAACJ,CAAC,EAAEH,CAAC,EAAE;IACtB,IAAIG,CAAC,CAACK,IAAI,KAAK,oBAAoB,EAAEL,CAAC,CAACM,UAAU,CAACR,OAAO,CAAC,UAASE,CAAC,EAAE;MAAEI,QAAQ,CAACJ,CAAC,EAAEH,CAAC,CAAC;IAAE,CAAC,CAAC,CAAC,KACtF,IAAIG,CAAC,CAACK,IAAI,IAAIE,YAAY,EAAEA,YAAY,CAACP,CAAC,CAACK,IAAI,CAAC,CAACL,CAAC,CAACJ,IAAI,EAAEC,CAAC,CAAC;EAClE;EAEA,IAAIU,YAAY,GAAG;IACjBC,UAAU,EAAEb,IAAI;IAChBc,eAAe,EAAEP,OAAO;IACxBQ,OAAO,EAAER,OAAO;IAChBS,YAAY,EAAE,SAAAA,CAASf,IAAI,EAAEC,CAAC,EAAE;MAAED,IAAI,CAACE,OAAO,CAAC,UAASK,GAAG,EAAE;QAAED,OAAO,CAACC,GAAG,EAAEN,CAAC,CAAC;MAAE,CAAC,CAAC;IAAE;EACtF,CAAC;EAEDN,OAAO,CAACO,OAAO,CAACM,QAAQ,CAAC;EAEzB,KAAK,IAAIP,CAAC,IAAIL,YAAY,EAAE;IAC1B,KAAK,IAAIoB,OAAO,GAAGpB,YAAY,CAACK,CAAC,CAAC,EAAEgB,CAAC,GAAGD,OAAO,CAACE,MAAM,EAAEC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAE,EAAEE,CAAC,EAAE;MACzE,KAAK,IAAIC,CAAC,GAAGD,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGH,CAAC,EAAE,EAAEG,CAAC,EAAE;QAC9B,IAAIC,EAAE,GAAGL,OAAO,CAACG,CAAC,CAAC;UAAEG,EAAE,GAAGN,OAAO,CAACI,CAAC,CAAC;UAAEG,CAAC;QACvC,IAAI,CAACA,CAAC,GAAG1B,SAAS,CAACwB,EAAE,CAAC,EAAEpB,CAAC,GAAGP,MAAM,CAAC6B,CAAC,EAAED,EAAE,CAAC,CAAC,KAAKA,EAAE,EAAEC,CAAC,CAACC,MAAM,CAACvB,CAAC,EAAE,CAAC,EAAEqB,EAAE,CAAC;QACrE,IAAI,CAACC,CAAC,GAAG1B,SAAS,CAACyB,EAAE,CAAC,EAAErB,CAAC,GAAGP,MAAM,CAAC6B,CAAC,EAAEF,EAAE,CAAC,CAAC,KAAKA,EAAE,EAAEE,CAAC,CAACC,MAAM,CAACvB,CAAC,EAAE,CAAC,EAAEoB,EAAE,CAAC;MACvE;IACF;EACF;EAEA,OAAOxB,SAAS;AAClB"},"metadata":{},"sourceType":"module","externalDependencies":[]}